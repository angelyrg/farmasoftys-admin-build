import{r as s,j as e}from"./index-frXugXEz.js";import{a as k,e as C}from"./endpoints-C5U9E4-a.js";import{c as g}from"./index.esm-BaRdIac2.js";import{R as P}from"./react-paginate-CJhFDzLZ.js";import{C as E,a as I}from"./CRow-CKmBaWJd.js";import{C as y,a as T}from"./CCardBody-D7q5mcpW.js";import{C as v}from"./CCardHeader-CGTkrN9q.js";import{C as R,a as S,b as x,c as r,d as B,e as n}from"./CTable-D2fS4PVd.js";import{I as D}from"./DefaultLayout-C8rcfdlm.js";import{a as w,c as A}from"./cil-chevron-right-DSvcss7_.js";import"./cil-user-Dlmw-Gem.js";import"./softys-8HeVkQ7R.js";const J=()=>{const i=`${C.API_BASE_URL}${C.ENDPOINTS.BOLETAS.GET}`,[l,h]=s.useState([]),[j,u]=s.useState(!0),[o,c]=s.useState(null),[f,b]=s.useState(0),t=7,d=f*t,L=l.slice(d,d+t),m=Math.ceil(l.length/t),N=a=>{b(a.selected)},p=s.useCallback(async()=>{try{const a=await k.get(i);a.data.success?h(a.data.data):c(a.data.message)}catch{c("Error al obtener los datos")}finally{u(!1)}},[i]);return s.useEffect(()=>{p()},[p]),j?e.jsx("p",{children:"Cargando..."}):o?e.jsxs("p",{children:["Error: ",o]}):e.jsx(e.Fragment,{children:e.jsx(E,{children:e.jsx(I,{xs:12,children:e.jsxs(y,{className:"mb-4",children:[e.jsxs(v,{children:[e.jsx("strong",{children:"Boletas"})," ",e.jsx("small",{children:"Listar"})]}),e.jsxs(T,{children:[e.jsxs(R,{striped:!0,responsive:!0,children:[e.jsx(S,{children:e.jsxs(x,{children:[e.jsx(r,{scope:"col",children:"ID"}),e.jsx(r,{scope:"col",children:"Fecha de creaciÃ³n"}),e.jsx(r,{scope:"col",children:"Imagen"}),e.jsx(r,{scope:"col",children:"Usuario"})]})}),e.jsx(B,{children:L.map(a=>e.jsxs(x,{children:[e.jsx(r,{scope:"row",children:a.id}),e.jsx(n,{children:new Date(a.createdAt).toLocaleString("es-PE",{timeZone:"America/Lima"})}),e.jsx(n,{children:e.jsx(D,{src:a.img_boleta,style:{maxWidth:"200px"},className:"d-inline-block align-top",alt:""})}),e.jsx(n,{children:a.user.fullname})]},a.id))})]}),m>1&&e.jsx(P,{previousLabel:e.jsx(g,{icon:A}),nextLabel:e.jsx(g,{icon:w}),breakLabel:"...",breakClassName:"page-item",breakLinkClassName:"page-link",pageCount:m,marginPagesDisplayed:2,pageRangeDisplayed:5,onPageChange:N,containerClassName:"pagination justify-content-center",pageClassName:"page-item",pageLinkClassName:"page-link",previousClassName:"page-item",previousLinkClassName:"page-link",nextClassName:"page-item",nextLinkClassName:"page-link",activeClassName:"active",disabledClassName:"disabled"})]})]})})})})};export{J as default};
