import{r as p}from"./index-BbdSqWC9.js";import{e as l,a as f}from"./endpoints-BX9h9ZCO.js";const y=(n,m,c)=>{const[a,i]=p.useState(n);return{formData:a,handleChange:o=>{const{id:e,value:t,type:s,files:r}=o.target,d=s==="file"?r[0]:t;i(u=>({...u,[e]:d}))},handleSubmit:async o=>{o.preventDefault();try{let e={...a};if(a.image&&a.image instanceof File){const t=new FormData;t.append("image",a.image);const s=`${l.API_BASE_URL}${l.ENDPOINTS.FILESTORAGE.UPLOAD}`,r=await f.post(s,t,{headers:{"Content-Type":"multipart/form-data"}});r.data.success?e={...a,[c]:r.data.data.secure_url}:console.error("Error al subir la imagen a Cloudinary:",r.data.message)}await m(e)}catch(e){console.error("Error al enviar el formulario:",e)}},resetForm:()=>{i(n)}}};export{y as u};
